(function(b){var a;FileApi={error:function(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case c.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case c.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}},progress:function(c){alert("progress")},select:function(e){var d=new XMLHttpRequest();this.ctrl=createThrobber(img);a=new FileReader();d.upload.addEventListener("progress",function(g){if(g.lengthComputable){var f=Math.round((g.loaded*100)/g.total);this.ctrl.update(f)}},false);a.open("POST",e.url);var c=new FormData();c.append("text",e.text);c.append("file",e.file);a.send(c)}}})($);